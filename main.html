<!DOCTYPE html>
<html data-wf-domain="webflow-challenge-mouse-movement.webflow.io" data-wf-page="64c146d5fbe13ccc30f7c2d5" data-wf-site="64c146d5fbe13ccc30f7c2d2" data-wf-status="1">
    <head><meta charset="utf-8"/>
        <title>Shreyash Srivastva</title>
        <meta content="Webflow Challenge | Mouse Movement" property="og:title"/>
        <meta content="Webflow Challenge | Mouse Movement" property="twitter:title"/>
        <meta content="width=device-width, initial-scale=1" name="viewport"/>
        <meta content="Webflow" name="generator"/>
        <link href="https://cdn.prod.website-files.com/64c146d5fbe13ccc30f7c2d2/css/webflow-challenge-mouse-movement.webflow.18184a951.css" rel="stylesheet" type="text/css"/>
        <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
        <link href="https://cdn.prod.website-files.com/img/favicon.ico" rel="shortcut icon" type="image/x-icon"/><link href="https://cdn.prod.website-files.com/img/webclip.png" rel="apple-touch-icon"/>
    </head>
    <body>
        <div class="score-wrapper">
            <div id="score-text" class="page-star-text">0</div></div>
            <div id="start-page" class="page-start">
                <div class="flappy-canvas-start">
                    <div class="flappy-background-wrapper">
                        <div class="flappy-background"></div></div>
                        <div class="base-wrapper"><div class="base"></div></div><div class="page-start-content-wrapper"><div class="margin-bottom-16"><div class="page-star-text">Flappy Movement</div></div>
                        <div class="margin-bottom-16"><img src=" WhatsApp Image 2025-01-17 at 07.30.17_3c733ad0.jpg" loading="lazy" alt="" class="start-bird"/></div><div class="margin-bottom-16"><div class="direction-wrapper">
                            <p class="hide-tablet">Drag your Mouse Up and Down to avoid those Pipes.</p><p class="desktop-hide">Try in Desktop</p></div></div><div id="start-button" class="start-wrapper"><div id="change-text" class="start-text">Start</div></div></div><div class="audio w-embed"><audio id="flappy-bgm" loop>
    <source src="https://deconstructionverse.com/audio/flappy-bird-background.mp3">
    Your browser does not support the audio element.
  </audio>
  
  <audio id="flappy-point">
    <source src="https://deconstructionverse.com/audio/point.wav">
    Your browser does not support the audio element.
  </audio>
  
  <audio id="flappy-hit">
    <source src="https://deconstructionverse.com/audio/hit.wav">
    Your browser does not support the audio element.
  </audio></div></div></div><div id="game-page" class="page-wrapper"><div class="style w-embed"><style>
  
  .pipe-wrapper {
    white-space: nowrap;
    will-change: transform;
    /**animation: marquee 17s linear infinite;**/
  }
  
  .base-wrapper {
    white-space: nowrap;
    will-change: transform;
    animation: marquee 17s linear infinite;
  }
  
  @keyframes marquee {
    from { transform: translateX(0); }
    to { transform: translateX(-50%); }
  }
  
  .base-wrapper:hover {
      animation-play-state: paused;
  }
  
  .pipe-wrapper .pipe-block.one > .pipe-box.top {
      padding-top: 80px;
  }
  
  .pipe-wrapper .pipe-block.one > .pipe-box.bottom {
      margin-bottom: -40px;
  }
  
  .pipe-wrapper .pipe-block.two > .pipe-box.top {
      margin-top: -40px;
  }
  
  .pipe-wrapper .pipe-block.two > .pipe-box.bottom {
      padding-bottom: 80px;
  }
  
  .pipe-wrapper .pipe-block.three > .pipe-box.top {
      margin-top: -20px;
  }
  
  .pipe-wrapper .pipe-block.three > .pipe-box.bottom {
      padding-bottom: 60px;
  }
  
  .pipe-wrapper .pipe-block.four > .pipe-box.top {
      margin-top: -60px;
  }
  
  .pipe-wrapper .pipe-block.four > .pipe-box.bottom {
      padding-bottom: 100px;
  }
  
  .pipe-wrapper .pipe-block.five > .pipe-box.top {
      padding-top: 200px;
  }
  
  .pipe-wrapper .pipe-block.five > .pipe-box.bottom {
      margin-bottom: -160px;
  }
  
  .pipe-wrapper .pipe-block.six > .pipe-box.top {
      margin-top: -160px;
  }
  
  .pipe-wrapper .pipe-block.six > .pipe-box.bottom {
      padding-bottom: 200px;
  }
  
  .pipe-wrapper .pipe-block.seven > .pipe-box.top {
      padding-top: 120px;
  }
  
  .pipe-wrapper .pipe-block.seven > .pipe-box.bottom {
      margin-bottom: -80px;
  }
  
  .pipe-wrapper .pipe-block.eight > .pipe-box.top {
      margin-top: -80px;
  }
  
  .pipe-wrapper .pipe-block.eight > .pipe-box.bottom {
      padding-bottom: 120px;
  }
  </style></div>
  <div id="game-canvas" class="flappy-canvas">
    <div class="flappy-background-wrapper">
        <div class="flappy-background"></div></div>
    <div class="pipe-wrapper">
        <div id="game-container" class="game-pipe-container">
        </div>
    </div>
    <div class="base-wrapper"><div class="base"></div></div><div class="clonable-pipes"><div id="pipe-1" class="pipe-block one"><div class="pipe-box top"><img src="https://cdn.prod.website-files.com/64c146d5fbe13ccc30f7c2d2/64c149d8e58ab5405112c752_pipe-green.png" loading="lazy" alt="" class="pipe top"/></div><div class="pipe-gap"></div><div class="pipe-box bottom"><img src="https://cdn.prod.website-files.com/64c146d5fbe13ccc30f7c2d2/64c149d8e58ab5405112c752_pipe-green.png" loading="lazy" alt="" class="pipe"/></div></div><div id="pipe-2" class="pipe-block two"><div class="pipe-box top"><img src="https://cdn.prod.website-files.com/64c146d5fbe13ccc30f7c2d2/64c149d8e58ab5405112c752_pipe-green.png" loading="lazy" alt="" class="pipe top"/></div><div class="pipe-box bottom"><img src="https://cdn.prod.website-files.com/64c146d5fbe13ccc30f7c2d2/64c149d8e58ab5405112c752_pipe-green.png" loading="lazy" alt="" class="pipe"/></div></div><div id="pipe-3" class="pipe-block three"><div class="pipe-box top"><img src="https://cdn.prod.website-files.com/64c146d5fbe13ccc30f7c2d2/64c149d8e58ab5405112c752_pipe-green.png" loading="lazy" alt="" class="pipe top"/></div><div class="pipe-box bottom"><img src="https://cdn.prod.website-files.com/64c146d5fbe13ccc30f7c2d2/64c149d8e58ab5405112c752_pipe-green.png" loading="lazy" alt="" class="pipe"/></div></div><div id="pipe-4" class="pipe-block four"><div class="pipe-box top"><img src="https://cdn.prod.website-files.com/64c146d5fbe13ccc30f7c2d2/64c149d8e58ab5405112c752_pipe-green.png" loading="lazy" alt="" class="pipe top"/></div><div class="pipe-box bottom"><img src="https://cdn.prod.website-files.com/64c146d5fbe13ccc30f7c2d2/64c149d8e58ab5405112c752_pipe-green.png" loading="lazy" alt="" class="pipe"/></div></div><div id="pipe-5" class="pipe-block five"><div class="pipe-box top"><img src="https://cdn.prod.website-files.com/64c146d5fbe13ccc30f7c2d2/64c149d8e58ab5405112c752_pipe-green.png" loading="lazy" alt="" class="pipe top"/></div><div class="pipe-box bottom"><img src="https://cdn.prod.website-files.com/64c146d5fbe13ccc30f7c2d2/64c149d8e58ab5405112c752_pipe-green.png" loading="lazy" alt="" class="pipe"/></div></div><div id="pipe-6" class="pipe-block six"><div class="pipe-box top"><img src="https://cdn.prod.website-files.com/64c146d5fbe13ccc30f7c2d2/64c149d8e58ab5405112c752_pipe-green.png" loading="lazy" alt="" class="pipe top"/></div><div class="pipe-box bottom"><img src="https://cdn.prod.website-files.com/64c146d5fbe13ccc30f7c2d2/64c149d8e58ab5405112c752_pipe-green.png" loading="lazy" alt="" class="pipe"/></div></div><div class="pipe-block seven"><div class="pipe-box top"><img src="https://cdn.prod.website-files.com/64c146d5fbe13ccc30f7c2d2/64c149d8e58ab5405112c752_pipe-green.png" loading="lazy" alt="" class="pipe top"/></div><div class="pipe-box bottom"><img src="https://cdn.prod.website-files.com/64c146d5fbe13ccc30f7c2d2/64c149d8e58ab5405112c752_pipe-green.png" loading="lazy" alt="" class="pipe"/></div></div><div id="pipe-8" class="pipe-block eight"><div class="pipe-box top"><img src="https://cdn.prod.website-files.com/64c146d5fbe13ccc30f7c2d2/64c149d8e58ab5405112c752_pipe-green.png" loading="lazy" alt="" class="pipe top"/></div><div class="pipe-box bottom"><img src="https://cdn.prod.website-files.com/64c146d5fbe13ccc30f7c2d2/64c149d8e58ab5405112c752_pipe-green.png" loading="lazy" alt="" class="pipe"/></div></div><div id="pipe-9" class="pipe-block nine"><div class="pipe-box top"><img src="https://cdn.prod.website-files.com/64c146d5fbe13ccc30f7c2d2/64c149d8e58ab5405112c752_pipe-green.png" loading="lazy" alt="" class="pipe top"/></div><div class="pipe-box bottom"><img src="https://cdn.prod.website-files.com/64c146d5fbe13ccc30f7c2d2/64c149d8e58ab5405112c752_pipe-green.png" loading="lazy" alt="" class="pipe"/></div></div></div><img src=" WhatsApp Image 2025-01-17 at 07.30.17_3c733ad0.jpg" loading="lazy" data-w-id="676c08f1-0fb5-783a-fe2f-93afc11bcde1" alt="" id="bird" class="flappy-bird"/></div></div><script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=64c146d5fbe13ccc30f7c2d2" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script><script src="https://cdn.prod.website-files.com/64c146d5fbe13ccc30f7c2d2/js/webflow.14b030a94.js" type="text/javascript"></script><style>
  .pipe-wrapper {
      display: block!important;
  }
  </style>
  <script>
      const bird = $('#bird');
      const gamePage = $('#game-page');
      const startPage = $('#start-page');
      const startBtn = $('#start-button');
      const changeStartText = $('#change-text');
      const scoreText = $('#score-text');
      const gameDisplay = $('#game-container');
    
      const bgmAudio = document.getElementById("flappy-bgm"); 
      const hitAudio = document.getElementById("flappy-hit"); 
      const pointAudio = document.getElementById("flappy-point"); 
  
  
      let isGameOver = false
      let gap = 145
      let gameTimerId;
      let timerId;
  
      let birdTop = 0
      let birdBottom = 64
      let isStarted = false
      let isMoving = false
      let isFirstGenerate = false
      let isFirst = false
      let lastLeftPosition = 500
      
      let score = 0
      let bestScore = 0
  
      function startGame() {
          isStarted = true
          if ( !isFirst ) {
              generateObstacle()
          }
          isFirst = true
      }
  
      $(document).mousemove(function(event){
          var top = $('#bird').offset().top;
          birdTop = Math.trunc( top )
          birdBottom = Math.trunc( top + 64 )
      });
      
      startBtn.on('click', function() {
          gameDisplay.html('');
          $('#start-page').css('display', 'none');
            $('#game-page').css('display', 'block');
          isGameOver = false;
          scoreText.html('0');
          gameTimerId = setInterval(startGame, 20);
          bgmAudio.play();
      });
      
      function randomIntFromInterval(min, max) { // min and max included 
          return Math.floor(Math.random() * (max - min + 1) + min)
      }
      
      function createObstacle( number, leftPosition ) {
          let indexNumber = number - 1;
          console.log(indexNumber);
          let arrayClass = [ 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine' ];
          
          return '<div style="left: '+ leftPosition +'px" id="pipe-1" class="pipe-block '+ arrayClass[indexNumber] +' moving-pipe" data-added="no"><div class="pipe-box top"><img src="https://cdn.prod.website-files.com/64c146d5fbe13ccc30f7c2d2/64c149d8e58ab5405112c752_pipe-green.png" loading="lazy" alt="" class="pipe top"></div><div class="pipe-gap"></div><div class="pipe-box bottom"><img src="https://cdn.prod.website-files.com/64c146d5fbe13ccc30f7c2d2/64c149d8e58ab5405112c752_pipe-green.png" loading="lazy" alt="" class="pipe"></div></div>';
      }
  
      function generateObstacle() {
          if ( !isStarted ) {
              return;
          }
      
          let obstacleLeft = 500
          let randomHeight = Math.random() * 60
          let obstacleBottom = randomHeight
          
          // get a pipe
          let pipeNumber = randomIntFromInterval(1, 9);
          
          gameDisplay.append( createObstacle(pipeNumber, lastLeftPosition) );
          
          if ( !isFirstGenerate ) {
              // it will determine here on how many will be generated
              var fullLeft = $(window).width();
              console.log(fullLeft);
  
              for (let i = 0; i < 5; i++) {
                  obstacleLeft +=300
                  pipeNumber = randomIntFromInterval(1, 9);
                  gameDisplay.append( createObstacle(pipeNumber, obstacleLeft) );
              }
              lastLeftPosition = obstacleLeft
          }
          
          isFirstGenerate = true;
          
          if ( !isMoving ) {
              timerId = setInterval(moveObstacles, 20);
          }
          
          isMoving = true
          if (!isGameOver) setTimeout(generateObstacle, 3000)
      }	
      
      function moveObstacles() {
          if ( !isStarted ) return
          if ( !$('.moving-pipe').length > 0 ) return
          
          let obstacleBottom = 1
          
          // foreach all the pipe
          $('.moving-pipe').each(function() {
              var leftObstacle = $(this).offset().left;
              var pointed = $(this).attr('data-added');
              // remove 2
              leftObstacle -=2
              $(this).css('left', leftObstacle + 'px');
              
              // get the upper element
              var upperElement = $(this).children('.pipe-box.top');
              var totalHeight = parseInt( upperElement.innerHeight() ) + parseInt( upperElement.css("margin-top") );
              var elementGap = $(this).children('.pipe-gap').innerHeight();
              var gapEnd = totalHeight + elementGap;
              
              
              if (leftObstacle === -60) {
                  $(this).remove();
              }
              
              var itBumped = false
              
              if ( leftObstacle > -20 && leftObstacle < 86 ) {
                  
                  if ( birdTop < totalHeight ) {
                      itBumped = true;
                  }
              
                  if ( birdBottom > gapEnd ) {
                      itBumped = true;
                  }
              }
              
              if ( itBumped ) {
                  hitAudio.play();
                  gameOver();
                  clearInterval(timerId);
              }
              
              if ( pointed == 'no' && leftObstacle < -20 && !isGameOver) {
                  console.log( "Point" );
                  $(this).attr('data-added', 'yes');
                  score +=1;
                  scoreText.html(score);
                  pointAudio.play();
              }
          });
      }
      
      hitAudio.addEventListener('ended', (event) => {
          reset();
      });
  
      function reset() {
          changeStartText.html('Play Again');
          
          isStarted = false
          isMoving = false
          isFirstGenerate = false
          isFirst = false
          lastLeftPosition = 500
          if ( score > bestScore ) {
              bestScore = score;
          }
          scoreText.html('Game Over!<br>Best Score: ' + bestScore);
          score = 0;
          $('#start-page').css('display', 'block');
            $('#game-page').css('display', 'none');
      }
  
      function gameOver() {
          clearInterval(gameTimerId)
          console.log('game over')
          isGameOver = true
          bgmAudio.pause();
          bgmAudio.currentTime = 0;
      }
  
  </script></body></html>
